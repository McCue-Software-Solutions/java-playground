{"version":3,"sources":["app.js","index.js"],"names":["App","editorRef","useRef","outputEditorRef","editorInstance","outputEditorInstance","useEffect","editor","ace","edit","current","value","mode","theme","maxLines","Infinity","autoScrollEditorIntoView","outputEditor","readOnly","showLineNumbers","window","addEventListener","resize","setTimeout","editorHeight","clientHeight","outputEditorHeight","editorLines","Math","floor","renderer","lineHeight","outputEditorLines","setOption","_jsxs","className","children","_jsx","role","onClick","code","getValue","setValue","fetch","method","headers","body","JSON","stringify","then","response","json","runJavaCode","data","stdout","stderr","error","catch","message","class","id","ref","ReactDOM","render","React","StrictMode","document","getElementById"],"mappings":"0OAmHeA,EA5GH,WACV,IAAMC,EAAYC,iBAAO,MACnBC,EAAkBD,iBAAO,MACzBE,EAAiBF,iBAAO,MACxBG,EAAuBH,iBAAO,MAEpCI,qBAAU,WACR,IAAMC,EAASC,IAAIC,KAAKR,EAAUS,QAAS,CACzCC,MAAO,4BACPC,KAAM,gBACNC,MAAO,oBACPC,SAAUC,IACVC,0BAA0B,IAGtBC,EAAeT,IAAIC,KAAKN,EAAgBO,QAAS,CACrDC,MAAO,GACPC,KAAM,sBACNC,MAAO,oBACPK,UAAU,EACVJ,SAAUC,IACVC,0BAA0B,EAC1BG,iBAAiB,IAGnBf,EAAeM,QAAUH,EACzBF,EAAqBK,QAAUO,EAE/BG,OAAOC,iBAAiB,UAAU,WAChCd,EAAOe,SACPL,EAAaK,QACf,IAEAC,YAAW,WAET,IAAMC,EAAevB,EAAUS,QAAQe,aACjCC,EAAqBvB,EAAgBO,QAAQe,aAG7CE,EAAcC,KAAKC,MAAML,EAAejB,EAAOuB,SAASC,YACxDC,EAAoBJ,KAAKC,MAAMH,EAAqBT,EAAaa,SAASC,YAGhFxB,EAAO0B,UAAU,WAAYN,GAC7BV,EAAagB,UAAU,WAAYD,EACrC,GAAG,EACL,GAAG,IAiCH,OACEE,eAAA,OAAKC,UAAU,uBAAsBC,SAAA,CACnCF,eAAA,UAAQC,UAAU,+FAA8FC,SAAA,CAC9GC,cAAA,UACEC,KAAK,SACL,aAAW,oBACXH,UAAU,0DACVI,QA5BQ,WACd,IAAMC,EAAOpC,EAAeM,QAAQ+B,WACpCpC,EAAqBK,QAAQgC,SAAS,cAZpB,SAACF,GACnB,OAAOG,MAAM,iCAAkC,CAC7CC,OAAQ,OACRC,QAAS,CACP,eAAgB,oBAElBC,KAAMC,KAAKC,UAAU,CAAER,WACtBS,MAAK,SAACC,GAAQ,OAAKA,EAASC,MAAM,GACvC,CAMEC,CAAYZ,GACTS,MAAK,SAACI,GACDA,EAAKC,OACPjD,EAAqBK,QAAQgC,SAASW,EAAKC,QAClCD,EAAKE,OACdlD,EAAqBK,QAAQgC,SAAS,WAAaW,EAAKE,QAC/CF,EAAKG,MACdnD,EAAqBK,QAAQgC,SAAS,WAAaW,EAAKG,OAExDnD,EAAqBK,QAAQgC,SAAS,kCAE1C,IACCe,OAAM,SAACD,GACNnD,EAAqBK,QAAQgC,SAAS,WAAac,EAAME,QAC3D,GACJ,EASyBtB,SAClB,QAGDC,cAAA,OAAKsB,MAAM,QAAOvB,SAAC,uBAErBF,eAAA,QAAMC,UAAU,YAAWC,SAAA,CACzBC,cAAA,OACEuB,GAAG,SACHC,IAAK5D,EACLkC,UAAU,wEAEZE,cAAA,OACEuB,GAAG,eACHC,IAAK1D,EACLgC,UAAU,mFAKpB,EC7GA2B,IAASC,OACP1B,cAAC2B,IAAMC,WAAU,CAAA7B,SACfC,cAACrC,EAAG,MAENkE,SAASC,eAAe,Q","file":"static/js/main.ce01ff0c.chunk.js","sourcesContent":["import React, { useEffect, useRef } from 'react';\r\nimport ace from 'ace-builds/src-noconflict/ace';\r\nimport 'ace-builds/src-noconflict/theme-monokai';\r\nimport 'ace-builds/src-noconflict/mode-java';\r\nimport 'ace-builds/src-noconflict/mode-plain_text';\r\nimport './app.css';\r\n\r\nconst App = () => {\r\n  const editorRef = useRef(null);\r\n  const outputEditorRef = useRef(null);\r\n  const editorInstance = useRef(null);\r\n  const outputEditorInstance = useRef(null);\r\n\r\n  useEffect(() => {\r\n    const editor = ace.edit(editorRef.current, {\r\n      value: 'Enter your Java code here',\r\n      mode: 'ace/mode/java',\r\n      theme: 'ace/theme/monokai',\r\n      maxLines: Infinity,\r\n      autoScrollEditorIntoView: true,\r\n    });\r\n\r\n    const outputEditor = ace.edit(outputEditorRef.current, {\r\n      value: '',\r\n      mode: 'ace/mode/plain_text',\r\n      theme: 'ace/theme/monokai',\r\n      readOnly: true,\r\n      maxLines: Infinity,\r\n      autoScrollEditorIntoView: true,\r\n      showLineNumbers: false,\r\n    });\r\n\r\n    editorInstance.current = editor;\r\n    outputEditorInstance.current = outputEditor;\r\n\r\n    window.addEventListener('resize', () => {\r\n      editor.resize();\r\n      outputEditor.resize();\r\n    });\r\n\r\n    setTimeout(() => {\r\n      // Get the elements' height.\r\n      const editorHeight = editorRef.current.clientHeight;\r\n      const outputEditorHeight = outputEditorRef.current.clientHeight;\r\n\r\n      // Calculate the number of lines.\r\n      const editorLines = Math.floor(editorHeight / editor.renderer.lineHeight);\r\n      const outputEditorLines = Math.floor(outputEditorHeight / outputEditor.renderer.lineHeight);\r\n\r\n      // Set the number of lines.\r\n      editor.setOption('minLines', editorLines);\r\n      outputEditor.setOption('minLines', outputEditorLines);\r\n    }, 0);\r\n  }, []);\r\n\r\n  const runJavaCode = (code) => {\r\n    return fetch('http://localhost:3000/run-code', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify({ code }),\r\n    }).then((response) => response.json());\r\n  };\r\n\r\n  const runCode = () => {\r\n    const code = editorInstance.current.getValue();\r\n    outputEditorInstance.current.setValue('Running...');\r\n  \r\n    runJavaCode(code)\r\n      .then((data) => {\r\n        if (data.stdout) {\r\n          outputEditorInstance.current.setValue(data.stdout);\r\n        } else if (data.stderr) {\r\n          outputEditorInstance.current.setValue(\"[Error] \" + data.stderr);\r\n        } else if (data.error) {\r\n          outputEditorInstance.current.setValue(\"[Error] \" + data.error);\r\n        } else {\r\n          outputEditorInstance.current.setValue(\"[Error] Unknown error occurred.\");\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        outputEditorInstance.current.setValue(\"[Error] \" + error.message);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div className=\"bg-gray-100 h-screen\">\r\n      <header className=\"p-6 bg-blue-500 text-white text-2xl rounded-md mb-4 header flex justify-between items-center\">\r\n        <button\r\n          role=\"button\"\r\n          aria-label=\"Run the Java code\"\r\n          className=\"py-2 px-4 bg-green-500 text-white rounded-md run-button\"\r\n          onClick={runCode}\r\n        >\r\n          Run\r\n        </button>\r\n        <div class=\"title\">Java Playground</div>\r\n      </header>\r\n      <main className=\"main flex\">\r\n        <div\r\n          id=\"editor\"\r\n          ref={editorRef}\r\n          className=\"editor w-full p-2 overflow-hidden rounded-md bg-gray-900 text-white\"\r\n        ></div>\r\n        <div\r\n          id=\"outputEditor\"\r\n          ref={outputEditorRef}\r\n          className=\"outputEditor w-full p-2 overflow-hidden rounded-md bg-gray-900 text-white\"\r\n        ></div>\r\n      </main>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './app.js';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}